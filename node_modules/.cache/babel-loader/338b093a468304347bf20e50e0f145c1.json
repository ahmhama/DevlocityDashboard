{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useModal;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _usePatchElement3 = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\n\nvar _confirm = require(\"../confirm\");\n\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\n\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = (0, _usePatchElement3[\"default\"])(),\n      _usePatchElement2 = (0, _slicedToArray2[\"default\"])(_usePatchElement, 2),\n      elements = _usePatchElement2[0],\n      patchElement = _usePatchElement2[1];\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []); // eslint-disable-next-line react/jsx-no-useless-fragment\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\n\nfunction useModal() {\n  var holderRef = React.useRef(null); // ========================== Effect ==========================\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      actionQueue = _React$useState2[0],\n      setActionQueue = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (actionQueue.length) {\n      var cloneQueue = (0, _toConsumableArray2[\"default\"])(actionQueue);\n      cloneQueue.forEach(function (action) {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]); // =========================== Hook ===========================\n\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(_HookModal[\"default\"], {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          function destroyAction() {\n            var _a;\n\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          }\n\n          if (modalRef.current) {\n            destroyAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [destroyAction]);\n            });\n          }\n        },\n        update: function update(newConfig) {\n          function updateAction() {\n            var _a;\n\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n          }\n\n          if (modalRef.current) {\n            updateAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [updateAction]);\n            });\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(_confirm.withInfo),\n      success: getConfirmFunc(_confirm.withSuccess),\n      error: getConfirmFunc(_confirm.withError),\n      warning: getConfirmFunc(_confirm.withWarn),\n      confirm: getConfirmFunc(_confirm.withConfirm)\n    };\n  }, []); // eslint-disable-next-line react/jsx-key\n\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","useModal","_toConsumableArray2","_slicedToArray2","React","_usePatchElement3","_confirm","_HookModal","uuid","ElementsHolder","memo","forwardRef","_props","ref","_usePatchElement","_usePatchElement2","elements","patchElement","useImperativeHandle","createElement","Fragment","holderRef","useRef","_React$useState","useState","_React$useState2","actionQueue","setActionQueue","useEffect","length","cloneQueue","forEach","action","getConfirmFunc","useCallback","withFunc","hookConfirm","config","_a","modalRef","createRef","closeFunc","modal","key","concat","afterClose","current","destroy","destroyAction","prev","update","newConfig","updateAction","fns","useMemo","info","withInfo","success","withSuccess","error","withError","warning","withWarn","confirm","withConfirm"],"sources":["C:/Users/Lenovo/Desktop/New folder (2)/strikingDash/node_modules/antd/lib/modal/useModal/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useModal;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _usePatchElement3 = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\n\nvar _confirm = require(\"../confirm\");\n\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\n\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = (0, _usePatchElement3[\"default\"])(),\n      _usePatchElement2 = (0, _slicedToArray2[\"default\"])(_usePatchElement, 2),\n      elements = _usePatchElement2[0],\n      patchElement = _usePatchElement2[1];\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []); // eslint-disable-next-line react/jsx-no-useless-fragment\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\n\nfunction useModal() {\n  var holderRef = React.useRef(null); // ========================== Effect ==========================\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      actionQueue = _React$useState2[0],\n      setActionQueue = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (actionQueue.length) {\n      var cloneQueue = (0, _toConsumableArray2[\"default\"])(actionQueue);\n      cloneQueue.forEach(function (action) {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]); // =========================== Hook ===========================\n\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(_HookModal[\"default\"], {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          function destroyAction() {\n            var _a;\n\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          }\n\n          if (modalRef.current) {\n            destroyAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [destroyAction]);\n            });\n          }\n        },\n        update: function update(newConfig) {\n          function updateAction() {\n            var _a;\n\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n          }\n\n          if (modalRef.current) {\n            updateAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [updateAction]);\n            });\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(_confirm.withInfo),\n      success: getConfirmFunc(_confirm.withSuccess),\n      error: getConfirmFunc(_confirm.withError),\n      warning: getConfirmFunc(_confirm.withWarn),\n      confirm: getConfirmFunc(_confirm.withConfirm)\n    };\n  }, []); // eslint-disable-next-line react/jsx-key\n\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}