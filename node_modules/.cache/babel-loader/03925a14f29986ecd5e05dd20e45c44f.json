{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.skipQuickAuth = skipQuickAuth;\nexports.logIn = logIn;\nexports.checkSession = checkSession;\n\nvar _quick_auth = require('../quick_auth');\n\nvar _index = require('../store/index');\n\nvar _actions = require('../core/actions');\n\nvar _index2 = require('../core/index');\n\nvar l = _interopRequireWildcard(_index2);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction skipQuickAuth(id) {\n  (0, _index.swap)(_index.updateEntity, 'lock', id, _quick_auth.skipQuickAuth, true);\n}\n\nfunction logIn(id, connection, loginHint, prompt) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n  var connectionScopes = l.auth.connectionScopes(m);\n  var scopes = connectionScopes.get(connection.get('name'));\n  var params = {\n    connection: connection.get('name'),\n    connection_scope: scopes ? scopes.toJS() : undefined\n  };\n\n  if (!l.auth.redirect(m) && connection.get('strategy') === 'facebook') {\n    params.display = 'popup';\n  }\n\n  if (loginHint) {\n    params.login_hint = loginHint;\n  }\n\n  if (prompt) {\n    params.prompt = prompt;\n  }\n\n  if (connection.get('strategy') === 'apple') {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, true);\n  } else {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, false);\n  }\n\n  params.isSubmitting = false;\n  (0, _actions.logIn)(id, [], params);\n}\n\nfunction checkSession(id, connection, loginHint) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n\n  if (l.auth.responseType(m).indexOf('code') >= 0) {\n    // we need to force a redirect in this case\n    // so we use login with prompt=none\n    return logIn(id, connection, loginHint, 'none');\n  } else {\n    var connectionScopes = l.auth.connectionScopes(m);\n    var scopes = connectionScopes.get(connection.get('name'));\n\n    var params = _extends({}, l.auth.params(m).toJS(), {\n      connection: connection.get('name')\n    });\n\n    (0, _actions.checkSession)(id, params);\n  }\n}","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","skipQuickAuth","logIn","checkSession","_quick_auth","require","_index","_actions","_index2","l","_interopRequireWildcard","obj","newObj","default","id","swap","updateEntity","connection","loginHint","prompt","m","read","getEntity","connectionScopes","auth","scopes","get","params","connection_scope","toJS","undefined","redirect","display","login_hint","setSupressSubmitOverlay","isSubmitting","responseType","indexOf"],"sources":["C:/Users/Lenovo/Desktop/New folder (2)/strikingDash/node_modules/auth0-lock/lib/quick-auth/actions.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.skipQuickAuth = skipQuickAuth;\nexports.logIn = logIn;\nexports.checkSession = checkSession;\n\nvar _quick_auth = require('../quick_auth');\n\nvar _index = require('../store/index');\n\nvar _actions = require('../core/actions');\n\nvar _index2 = require('../core/index');\n\nvar l = _interopRequireWildcard(_index2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction skipQuickAuth(id) {\n  (0, _index.swap)(_index.updateEntity, 'lock', id, _quick_auth.skipQuickAuth, true);\n}\n\nfunction logIn(id, connection, loginHint, prompt) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n  var connectionScopes = l.auth.connectionScopes(m);\n  var scopes = connectionScopes.get(connection.get('name'));\n  var params = {\n    connection: connection.get('name'),\n    connection_scope: scopes ? scopes.toJS() : undefined\n  };\n  if (!l.auth.redirect(m) && connection.get('strategy') === 'facebook') {\n    params.display = 'popup';\n  }\n  if (loginHint) {\n    params.login_hint = loginHint;\n  }\n  if (prompt) {\n    params.prompt = prompt;\n  }\n\n  if (connection.get('strategy') === 'apple') {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, true);\n  } else {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, false);\n  }\n\n  params.isSubmitting = false;\n  (0, _actions.logIn)(id, [], params);\n}\n\nfunction checkSession(id, connection, loginHint) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n  if (l.auth.responseType(m).indexOf('code') >= 0) {\n    // we need to force a redirect in this case\n    // so we use login with prompt=none\n    return logIn(id, connection, loginHint, 'none');\n  } else {\n    var connectionScopes = l.auth.connectionScopes(m);\n    var scopes = connectionScopes.get(connection.get('name'));\n    var params = _extends({}, l.auth.params(m).toJS(), {\n      connection: connection.get('name')\n    });\n\n    (0, _actions.checkSession)(id, params);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}