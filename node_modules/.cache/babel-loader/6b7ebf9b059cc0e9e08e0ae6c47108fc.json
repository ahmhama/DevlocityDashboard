{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend = /*#__PURE__*/function () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };","map":{"version":3,"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","EnterLeaveCounter","isFirefox","getNodeClientOffset","getEventClientOffset","getDragPreviewOffset","createNativeDragSource","matchNativeItemType","NativeTypes","OptionsReader","HTML5Backend","manager","globalContext","_this","sourcePreviewNodes","Map","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","getSourceClientOffset","sourceId","get","endDragNativeItem","isDraggingNativeItem","actions","endDrag","registry","removeSource","isNodeInDocument","node","document","body","contains","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","e","defaultPrevented","clientOffset","monitor","isDragging","beginDrag","publishSource","dataTransfer","nativeType","setDragImage","getSourceId","sourceNode","dragPreview","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","anchorX","anchorY","offsetX","offsetY","anchorPoint","offsetPoint","dragPreviewOffset","x","y","setData","err","setCurrentDragSourceNode","_this$getCurrentSourc2","captureDraggingState","setTimeout","publishDragSource","beginDragNativeItem","types","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","isFirstEnter","enterLeaveCounter","enter","handleTopDragEnter","altKey","hover","canDrop","some","targetId","canDropOnTarget","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","isLastLeave","leave","handleTopDropCapture","loadDataTransfer","reset","handleTopDrop","drop","handleSelectStart","dragDrop","tagName","isContentEditable","options","getActions","getMonitor","getRegistry","setup","window","undefined","__isReactDndBackendSetUp","Error","addEventListeners","teardown","removeEventListeners","cancelAnimationFrame","connectDragPreview","_this2","set","delete","connectDragSource","_this3","handleDragStart","setAttribute","addEventListener","removeEventListener","connectDropTarget","_this4","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","itemType","getItemType","type","addSource","_this5","MOUSE_MOVE_TIMEOUT","clearTimeout","unshift","default"],"sources":["C:/Users/Lenovo/Desktop/New folder (2)/strikingDash/node_modules/react-dnd-html5-backend/dist/esm/HTML5Backend.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend =\n/*#__PURE__*/\nfunction () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}